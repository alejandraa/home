#!/usr/bin/env ruby
#
# Forgets persisted dot files

require 'fileutils'

ARGV.each do |dot_file|
  dot_file_without_dot = dot_file.gsub(/\./, '')

  if rm "~/#{dot_file}"
    if mv "~/.dots/config/#{dot_file_without_dot}", "~/#{dot_file}"
      puts "#{dot_file} has been forgotten."
    else
      puts "Error: #{dot_file_without_dot} could not be moved."
    end
  else
    puts "Error: #{dot_file} symlink could not be removed."
  end
end
